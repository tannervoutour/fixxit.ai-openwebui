# =============================================================================
# Fixxit.ai OpenWebUI - Production Configuration
# =============================================================================
# IMPORTANT: Copy this file to .env.production.local and update with real values
# Never commit .env.production.local to git (it's in .gitignore)
# =============================================================================

# =============================================================================
# Basic Configuration
# =============================================================================
WEBUI_NAME=Fixxit.ai
WEBUI_URL=https://fixxit.yourdomain.com
WEBUI_PORT=3000

# CRITICAL: Generate a strong secret key
# Run: openssl rand -hex 32
WEBUI_SECRET_KEY=CHANGE_THIS_TO_A_STRONG_SECRET_KEY

# =============================================================================
# Database Password Encryption (CRITICAL for Supabase Logs Feature)
# =============================================================================
# This key encrypts database passwords stored in groups
# MUST be the same key used in development if migrating data
# Run: openssl rand -base64 32
DATABASE_PASSWORD_ENCRYPTION_KEY=aEtZV05XcVpuTG03VUNUczc5dlMtalY4WEdleDZheHY0Z0NuZ1I1SnZtaz0=

# =============================================================================
# Authentication & Security
# =============================================================================
WEBUI_AUTH=true
ENABLE_SIGNUP=false
DEFAULT_USER_ROLE=pending
ENABLE_LOGIN_FORM=true
ENABLE_OAUTH_SIGNUP=false

# =============================================================================
# Database Configuration
# =============================================================================
# SQLite (default, easiest for single-server deployments)
DATABASE_URL=sqlite:///app/backend/data/webui.db

# PostgreSQL (recommended for production with multiple instances)
# DATABASE_URL=postgresql://username:password@localhost:5432/fixxit_openwebui

# Data volume path (where Docker will store all persistent data)
DATA_VOLUME_PATH=/opt/fixxit-openwebui/data

# =============================================================================
# AI Model Configuration
# =============================================================================
# Ollama (if running locally on server)
OLLAMA_BASE_URL=http://host.docker.internal:11434

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_API_BASE_URL=https://api.openai.com/v1

# Anthropic Configuration (for Claude models)
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_API_BASE_URL=https://api.anthropic.com

# =============================================================================
# RAG & Document Processing
# =============================================================================
ENABLE_RAG=true
CHUNK_SIZE=1500
CHUNK_OVERLAP=100
RAG_TOP_K=5

# =============================================================================
# File Uploads & Storage
# =============================================================================
ENABLE_FILE_UPLOAD=true
MAX_FILE_SIZE_MB=25

# =============================================================================
# UI Customization
# =============================================================================
DEFAULT_THEME=dark
SHOW_ADMIN_DETAILS=false
ENABLE_COMMUNITY_SHARING=false

# =============================================================================
# Features
# =============================================================================
ENABLE_IMAGE_GENERATION=true
AUDIO_STT_ENGINE=whisper
AUDIO_TTS_ENGINE=openai

# =============================================================================
# Timeout Configuration (N8N Workflows)
# =============================================================================
# Application-level timeout for long-running N8N workflows
# Default is 300 seconds, increased to 600 for complex workflows
AIOHTTP_CLIENT_TIMEOUT=600

# =============================================================================
# Production Settings
# =============================================================================
DEBUG=false
BUILD_HASH=production-$(date +%Y%m%d-%H%M%S)

# =============================================================================
# Monitoring & Performance (Optional)
# =============================================================================
# Enable if you have monitoring infrastructure
# ENABLE_PROMETHEUS_METRICS=true
# PROMETHEUS_PORT=9090

# =============================================================================
# Backup Configuration (Optional)
# =============================================================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30
